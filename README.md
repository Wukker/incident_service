# API-сервис для учёта инцидентов
## Описание

Небольшое FastAPI приложение, позволяет создавать, обновлять и просматривать инциденты.
___
## Стек:

   - FastAPI
   - PostgreSQL
   - Alembic для миграций
   - SQLAlchemy
   - Poetry
___
## Запуск

1. Скопировать проект.
2. Создать .env файл по примеру .env.example
3. Выполните в корне проекта:
   ```bash
   alembic upgrade head
   ```
   Это запустит миграции для базы данных.
4. Выполните в корне проекта:
   ```bash
   python -m src
   ```
   Это запустит приложение.
5. По-умолчанию, приложение доступно по адресу http://localhost:8000, а документацию можно посмотреть по
   адресу http://localhost:8000/api/redoc или http://localhost:8000/api/docs

___
## Функционал:
### Объект инцидента содержит в себе
 - id - UUID идентификатор
 - description - Описание
 - status - Строковый enum
 - source - Строковый enum
 - created_at - Datetime создания в сервисе

### 1) Создание инцидента
Эндпоинт создает и сохраняет в БД инцидент, он принимает описание и тип источника инцидента. Статус (Открыт) и время создания подставляются автоматически.

#### Аргументы:
 - description - строковое описание инцидента
 - source - значение строкового enum, источник инцидента (operator, monitoring, partner).

После создания возвращает идентификатор инцидента.

### 2) Получение списка инцидентов
Эндпоинт возвращает список инцидентов. При необходимости можно фильтровать по статусу (Открыт/Закрыт/В процессе).

#### Параметры:
- status - значение строкового enum, статус инцидента (open, in_progress, closed).

### 3) Организации
Эндпоинт обновляет статус выбранного инцидента. Принимает идентификатор инцидента и новый статус.

#### Поля:
- id - UUID идентификатор
- status - значение строкового enum, статус инцидента (open, in_progress, closed).

При попытке обновить статус таким же значением выходит ошибка 400, при попытке обновить несуществующий инцидент ошибка 404.

___
*При создании сервиса использовался template clean-code архитектуры, который был слегка изменен для ускорения разработки.